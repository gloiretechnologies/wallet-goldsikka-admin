<div class="password-settings">
  <h1>Change Password</h1>

  <section class="mt-3">
    <div class="w-100">
      <div *ngIf="!!errorMessage" class="form-group">
        <div class="alert alert-danger">
          <i class="fas fa-exclamation-triangle mr-2"></i> {{errorMessage}}
        </div>
      </div>
      <div *ngIf="!!successMessage" class="form-group">
        <div class="alert alert-success">
          <i class="fas fa-check mr-2"></i>{{successMessage}}
        </div>
      </div>
    </div>

    <form class="from w-100 mt-4" role="form" [formGroup]="form" (ngSubmit)="onSubmit()"
          >
      <div class="profile-update">
        <div class="form-group ">
          <label>Current Password  <span class="mandatory">*</span></label>
          <input [type]="showPasswordStatus ? 'text' : 'password'" class="form-control"
                 formControlName="currentPassword" placeholder="Enter current password"
                 [ngClass]="{'is-invalid': (submitted && (f.currentPassword.errors || errors['currentPassword']))}">

          <i class="show-pass fa fa-lg" *ngIf="!!f.currentPassword.value"
             [ngClass]="{'fa-eye' :showPasswordStatus, 'fa-eye-slash': !showPasswordStatus}"
             (click)="showPassword()"></i>

          <div class="invalid-feedback" *ngIf="form.get('currentPassword').hasError('required')">This field is
            required
          </div>
          <div class="invalid-feedback" *ngFor="let e of errors['currentPassword']">{{e.toString()}}</div>
         </div>
        <div class="form-group ">
          <label>New Password  <span class="mandatory">*</span></label>

          <input [type]="showPasswordStatus ? 'text' : 'password'" class="form-control"
                 formControlName="newPassword"
                 placeholder="Enter new password"
                 [ngClass]="{'is-invalid': (submitted && f.newPassword.errors|| errors['newPassword'])}">
          <i class="show-pass fa fa-lg" *ngIf="!!f.newPassword.value"
             [ngClass]="{'fa-eye' :showPasswordStatus, 'fa-eye-slash': !showPasswordStatus}"
             (click)="showPassword()"></i>
          <div class="invalid-feedback" *ngIf="form.get('newPassword').hasError('required')">This field is
            required
          </div>
          <div class="invalid-feedback" *ngIf="form.get('newPassword').hasError('pattern')">Password must contain at least one lowercase letter, one uppercase letter, one numeric digit, and one special character, but cannot contain whitespace.
          </div>
          <div class="invalid-feedback" *ngFor="let e of errors['newPassword']">{{e.toString()}}</div>
        </div>

        <div class="form-group ">
          <label>Confirm Password  <span class="mandatory">*</span></label>
          <input [type]="showPasswordStatus ? 'text' : 'password'" class="form-control"
                 formControlName="confirmNewPassword" placeholder="Enter confirm password"
                 [ngClass]="{'is-invalid': (submitted && (f.confirmNewPassword.errors|| errors['confirmNewPassword']))}">
          <i class="show-pass fa fa-lg" *ngIf="!!f.confirmNewPassword.value"
             [ngClass]="{'fa-eye' :showPasswordStatus, 'fa-eye-slash': !showPasswordStatus}"
             (click)="showPassword()"></i>
          <div class="invalid-feedback" *ngIf="form.get('confirmNewPassword').hasError('required')">This field is
            required
          </div>
          <div class="invalid-feedback" *ngFor="let e of errors['confirmNewPassword']">{{e.toString()}}</div>


          <div class="form-group mt-4">
            <button type="submit" class="btn btn-primary btn-block btn-md">
              Change Password
            </button>
          </div>
        </div>
      </div>
      <!-- /.card-footer -->
    </form>
  </section>

</div>
