<section class="passbook">
  <h2>Referral</h2>

  <div *ngIf="referrals" class="pt-2 pb-2">

    <div class="row">

      <div class="col-lg-3">
        <div class="card">
          <div class="card-header">
            Referral Code
          </div>
          <div class="card-body">
           <h2 class="text-center"> {{referrals.referralCode}}</h2>

          </div>
        </div>
        <p class="message"> {{referrals.message}}</p>
      </div>
      <div class="col-lg-3">
        <div class="card">
          <div class="card-header">
            Total Referred Users
          </div>
          <div class="card-body">
            <h2 class="text-center"> {{referrals.userCount}}</h2>
          </div>
        </div>
      </div>

      <div class="col-lg-3">
        <div class="card">
          <div class="card-header">
            Total Referral Amount
          </div>
          <div class="card-body">
            <h2 class="text-center">  {{referrals.earningsAmount | currency}}</h2>
          </div>
        </div>
      </div>

      <div class="col-lg-3">
        <div class="card">
          <div class="card-header">
            Booking Account Amount
          </div>
          <div class="card-body text-center">
            <h2 class="text-center">  {{walletAmount|currency}} </h2>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- <div class="row pt-2">
    <div *ngIf="referrals" class="col-md-6  text-right refer">

      <div class="col-md-3">
        <p>
          <b> Referral Code</b> <span class="badge ">{{referrals.referralCode}}</span>
           <span class="sr-only">unread messages</span>
        </p>
      </div>

      <div class="col-md-3">
        <p>
          <b>User Count</b> <span class="badge ">{{referrals.userCount}}</span>
          <span class="sr-only">unread messages</span>
        </p>
      </div>

      <div class="col-md-3">
        <p>
          <b>Total Amount</b> <span class="badge ">{{referrals.earningsAmount}}</span>
            <span class="sr-only">unread messages</span>
        </p>
      </div>

      <div class="col-md-3">
        <button type="button" class="btn btn-info mr-2 pt-6 btn-sm p-2 mb-2" (click)="withDraw();">
          Withdraw Amount<span class="sr-only">unread messages</span>
        </button>
      </div>

         <h3>User Count <span class="badge badge-secondary">{{referrals.userCount}}</span></h3>
         <p class="referrals"> Referral Code - {{referrals.referralCode}}</p>
         <p class="referrals"> User Count  - {{referrals.userCount}}</p>
         <p class="referrals"> Total Amount - {{referrals.earningsAmount |currency}}</p>
    </div>
  </div> -->

  <h3 class="pt-2 mb-0">Refer Transaction List</h3>
  <div class="card d-block mt-4 mb-4">
    <div class="card-body p-0">
      <div class="table-responsive">
        <table class="table table-striped table-hover">
          <thead>
          <tr>
            <th>Date</th>
            <th>Amount</th>
            <th>Description</th>
          </tr>
          </thead>
          <tbody *ngIf="!!referralsUserList">
          <tr
            *ngFor="let refer of referralsUserList.data | paginate: { itemsPerPage: 10, currentPage: page, totalItems: referralsUserList.total }">
            <td>{{refer.created_date}}</td>
            <td>{{refer.amount|currency}}</td>
            <td>{{refer.description}}</td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="card-footer" *ngIf="!!referralsUserList">
      <div class="pagination">
        <pagination-controls
          (pageChange)="pageChanged($event)"
          (pageBoundsCorrection)="pageChanged($event)"
          maxSize="{{referralsUserList['last_page']}}"
          directionLinks="true"
          responsive="true"
          previousLabel="Previous"
          nextLabel="Next"
          screenReaderPaginationLabel="Pagination"
          screenReaderPageLabel="page"
          screenReaderCurrentLabel="You're on page">
        </pagination-controls>
      </div>
    </div>
  </div>

  <!-- <div [style.display]="showModal ? 'block' : 'none'" class="modal" id="imagemodal" tabindex="-1" role="dialog"
       aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="myModalLabel">Money Wallet Amount</h4>
        </div>
        <form class="from" role="form" [formGroup]="form" (ngSubmit)="onSubmit()"
              [ngClass]="{'was-validated': (submitted && form.valid), 'needs-validation': (submitted)}">
        <div class="modal-body">

          <div class="row">
            <div class="w-100">
              <div *ngIf="!!errorMessage" class="form-group">
                <div class="alert alert-danger">
                  <i class="fas fa-exclamation-triangle"></i> &nbsp; {{errorMessage}}
                  <span *ngIf="isBank"><a class="add-bank" routerLink="/settings/bankAccounts/add" target="_blank"> Click here </a> to add your Bank Account</span>
                </div>
              </div>
            </div>
          </div>

            <div class="form-group">
              <label>Enter Amount :<span class="mandatory">*</span></label>
              <input type="text" formControlName="amount" class="form-control" placeholder="Enter Amount"
                     [ngClass]="{'is-invalid': (submitted && (f.amount.errors || errors['amount']))}" />
              <div class="invalid-feedback" *ngIf="form.get('amount').hasError('required')">This field is required
              </div>
              <div class="invalid-feedback" *ngIf="form.get('amount').hasError('min')">Minimum amount must be Rs. 500
              </div>
              <div class="invalid-feedback" *ngFor="let e of errors['amount']">{{e.toString()}}</div>
            </div>

        </div>
        <div class="modal-footer"><div class="loading" *ngIf="isSubmitting">
          <i class="fas fa-spinner fa-spin"></i>
        </div>
          <button type="button" class="btn btn-dark" data-dismiss="modal" (click)="hide()">Close</button>
          <button type="submit" class="btn btn-primary">Submit</button>
        </div>
        </form>
      </div>
    </div>
  </div> -->
</section>
